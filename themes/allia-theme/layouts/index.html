{{ define "main" }}
<section class="hero">
    <span class="hero-label">TECH BLOG</span>
    <h1><span class="accent">~/</span>allia.blog</h1>
    <p>Articulos sobre desarrollo web, arquitectura de software y las ultimas tecnologias. Escrito por desarrolladores, para desarrolladores.</p>
    <a href="{{ "posts/" | relURL }}" class="hero-button">ls ./posts <span>→</span></a>
</section>

{{ $posts := where .Site.RegularPages "Section" "posts" }}
{{ $total := len $posts }}
{{ $recent := first 3 $posts }}

{{ if $posts }}
<section class="latest-posts">
    <div class="section-header">
        <span class="section-title">RECENT POSTS</span>
        <span class="section-counter">[{{ len $recent }}/{{ $total }}]</span>
    </div>

    <div class="post-list-compact">
        {{ range $recent }}
        <article class="post-item">
            <span class="post-item-category">
                {{ with .Params.categories }}{{ index . 0 }}{{ else }}post{{ end }}
            </span>
            <div class="post-item-content">
                <h3 class="post-item-title">
                    <a href="{{ .Permalink }}">{{ .Title }}</a>
                </h3>
                <div class="post-item-meta">
                    <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "2006-01-02" }}</time>
                    {{ with .Params.author }} · <a href="#">@{{ . }}</a>{{ end }}
                    {{ if .ReadingTime }} · {{ .ReadingTime }} min{{ end }}
                </div>
            </div>
            <span class="post-item-arrow">→</span>
        </article>
        {{ end }}
    </div>
</section>
{{ end }}
{{ end }}
